{"is_source_file": true, "format": "JavaScript", "description": "This JavaScript module implements a client for NewsAPI, providing functions to fetch top headlines and search news articles. It reads configuration from environment variables, supports proxy and direct modes, handles errors gracefully, and includes detailed documentation on usage and configuration. The module exports functions for retrieving news data, manages API keys and endpoints, and adds error handling for network issues and API errors.", "external_files": [], "external_methods": ["fetch"], "published": ["getNewsApiConfig", "getTopHeadlines", "searchEverything"], "classes": [], "methods": [{"name": "getNewsApiConfig()", "description": "Retrieves and constructs the configuration for NewsAPI from environment variables, determining base URL and API key.", "scope": "", "scopeKind": ""}, {"name": "buildQuery(params = {})", "description": "Builds a URL query string from provided parameters.", "scope": "", "scopeKind": ""}, {"name": "mapApiError(status, payload)", "description": "Maps API error responses to user-friendly error messages.", "scope": "", "scopeKind": ""}, {"name": "isNetworkOrCORSError(err)", "description": "Detects network or CORS-related errors from fetch failures.", "scope": "", "scopeKind": ""}, {"name": "toUserFacingError(err, url, mode)", "description": "Converts caught errors to user-facing errors with guidance messages.", "scope": "", "scopeKind": ""}, {"name": "doFetch(endpoint, params, externalSignal)", "description": "Internal helper to perform fetch requests to NewsAPI, handling proxy/direct modes, headers, and errors.", "scope": "", "scopeKind": ""}, {"name": "getTopHeadlines( { country = 'us', category, pageSize = 10, page = 1 } = {}, signal )", "description": "Fetches top headlines with optional filters like country, category, and pagination.", "scope": "", "scopeKind": ""}, {"name": "searchEverything( { q, sortBy = 'publishedAt', language = 'en', pageSize = 10, page = 1 } = {}, signal )", "description": "Performs a search across all NewsAPI articles with query, sorting, language, and pagination options.", "scope": "", "scopeKind": ""}, {"name": "isProxyBase(base)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "stripTrailingSlashes(s)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "getNewsApiConfig", "buildQuery", "mapApiError", "isNetworkOrCORSError", "toUserFacingError", "doFetch"], "search-terms": ["NewsAPI client", "getNewsApiConfig", "top-headlines", "search", "proxy mode", "direct mode", "environment variables", "API key handling"], "state": 2, "file_id": 13, "knowledge_revision": 49, "git_revision": "dbcf9126b95659fad39e298016ac54bdbd8b7bf1", "revision_history": [{"27": ""}, {"43": "c9cba1ed5e79ae1edd212e8884225bb5ab68757f"}, {"45": "a6c37e39e4b14b952acb4f787794309810f0e836"}, {"49": "dbcf9126b95659fad39e298016ac54bdbd8b7bf1"}], "ctags": [{"_type": "tag", "name": "DEFAULT_BASE", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^const DEFAULT_BASE = 'https:\\/\\/newsapi.org\\/v2';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildQuery", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function buildQuery(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "country", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    country,$/", "language": "JavaScript", "kind": "field", "scope": "getTopHeadlines.params", "scopeKind": "class"}, {"_type": "tag", "name": "doFetch", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^async function doFetch(endpoint, params, externalSignal) {$/", "language": "JavaScript", "kind": "function", "signature": "(endpoint, params, externalSignal)"}, {"_type": "tag", "name": "getNewsApiConfig", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^export function getNewsApiConfig() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getTopHeadlines", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^export async function getTopHeadlines($/", "language": "JavaScript", "kind": "function", "signature": "( { country = 'us', category, pageSize = 10, page = 1 } = {}, signal )"}, {"_type": "tag", "name": "isNetworkOrCORSError", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function isNetworkOrCORSError(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "isProxyBase", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function isProxyBase(base) {$/", "language": "JavaScript", "kind": "function", "signature": "(base)"}, {"_type": "tag", "name": "language", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    language,$/", "language": "JavaScript", "kind": "field", "scope": "searchEverything.params", "scopeKind": "class"}, {"_type": "tag", "name": "mapApiError", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function mapApiError(status, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(status, payload)"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^  const params = {$/", "language": "JavaScript", "kind": "class", "scope": "searchEverything", "scopeKind": "class"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    q: query,$/", "language": "JavaScript", "kind": "property", "scope": "searchEverything.params", "scopeKind": "class"}, {"_type": "tag", "name": "searchEverything", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^export async function searchEverything($/", "language": "JavaScript", "kind": "function", "signature": "( { q, sortBy = 'publishedAt', language = 'en', pageSize = 10, page = 1 } = {}, signal )"}, {"_type": "tag", "name": "sortBy", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    sortBy: sort,$/", "language": "JavaScript", "kind": "property", "scope": "searchEverything.params", "scopeKind": "class"}, {"_type": "tag", "name": "stripTrailingSlashes", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function stripTrailingSlashes(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "toUserFacingError", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function toUserFacingError(err, url, mode) {$/", "language": "JavaScript", "kind": "function", "signature": "(err, url, mode)"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    e.details = { url, mode };$/", "language": "JavaScript", "kind": "field", "scope": "e.details", "scopeKind": "class"}], "hash": "fef015bb55f4e0c1ac0f40a534c7c26e", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/services/newsApi.js", "fields": [{"name": "country,", "scope": "getTopHeadlines.params", "scopeKind": "class", "description": "unavailable"}, {"name": "language,", "scope": "searchEverything.params", "scopeKind": "class", "description": "unavailable"}, {"name": "q: query,", "scope": "searchEverything.params", "scopeKind": "class", "description": "unavailable"}, {"name": "sortBy: sort,", "scope": "searchEverything.params", "scopeKind": "class", "description": "unavailable"}, {"name": "e.details = { url, mode };", "scope": "e.details", "scopeKind": "class", "description": "unavailable"}]}