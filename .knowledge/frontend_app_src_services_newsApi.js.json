{"is_source_file": true, "format": "JavaScript", "description": "This file is a client module for interacting with the NewsAPI service. It provides functions to fetch top headlines and search news articles, reading configuration from environment variables, supporting both direct and proxy modes. It includes error handling for network, CORS, and API errors, and exposes relevant functions for use in a larger application.", "external_files": [], "external_methods": ["fetch"], "published": ["getNewsApiConfig", "getTopHeadlines", "searchEverything"], "classes": [], "methods": [{"name": "getNewsApiConfig()", "description": "Retrieves configuration settings for the NewsAPI, including base URL and API key, from environment variables.", "scope": "", "scopeKind": ""}, {"name": "buildQuery(params = {})", "description": "Constructs URL query string from parameters.", "scope": "", "scopeKind": ""}, {"name": "mapApiError(status, payload)", "description": "Maps API response errors to user-friendly messages based on status codes.", "scope": "", "scopeKind": ""}, {"name": "isNetworkOrCORSError(err)", "description": "Detects whether an error is caused by network issues or CORS problems.", "scope": "", "scopeKind": ""}, {"name": "toUserFacingError(err, url)", "description": "Converts internal errors into user-friendly error objects suitable for UI display.", "scope": "", "scopeKind": ""}, {"name": "doFetch(endpoint, params, externalSignal)", "description": "Performs fetch to the news API endpoint, handling mode (direct/proxy), timeout, and error processing.", "scope": "", "scopeKind": ""}, {"name": "getTopHeadlines( { country = 'us', category, pageSize = 10, page = 1 } = {}, signal )", "description": "Fetches top news headlines with optional filtering parameters like country, category, and pagination.", "scope": "", "scopeKind": ""}, {"name": "searchEverything( { q, sortBy = 'publishedAt', language = 'en', pageSize = 10, page = 1 } = {}, signal )", "description": "Searches for news articles matching a query, with sorting, language, and pagination options.", "scope": "", "scopeKind": ""}, {"name": "isProxyBase(base)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "stripTrailingSlashes(s)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "getNewsApiConfig", "buildQuery", "mapApiError", "isNetworkOrCORSError", "toUserFacingError", "doFetch"], "search-terms": ["NewsAPI client", "fetch top headlines", "search news articles", "environment variables", "proxy mode detection", "API error handling", "network/CORS error detection", "configuration retrieval", "React environment"], "state": 2, "file_id": 13, "knowledge_revision": 45, "git_revision": "a6c37e39e4b14b952acb4f787794309810f0e836", "revision_history": [{"27": ""}, {"43": "c9cba1ed5e79ae1edd212e8884225bb5ab68757f"}, {"45": "a6c37e39e4b14b952acb4f787794309810f0e836"}], "ctags": [{"_type": "tag", "name": "DEFAULT_BASE", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^const DEFAULT_BASE = 'https:\\/\\/newsapi.org\\/v2';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildQuery", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function buildQuery(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "country", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    country,$/", "language": "JavaScript", "kind": "field", "scope": "getTopHeadlines.params", "scopeKind": "class"}, {"_type": "tag", "name": "doFetch", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^async function doFetch(endpoint, params, externalSignal) {$/", "language": "JavaScript", "kind": "function", "signature": "(endpoint, params, externalSignal)"}, {"_type": "tag", "name": "getNewsApiConfig", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^export function getNewsApiConfig() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getTopHeadlines", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^export async function getTopHeadlines($/", "language": "JavaScript", "kind": "function", "signature": "( { country = 'us', category, pageSize = 10, page = 1 } = {}, signal )"}, {"_type": "tag", "name": "isNetworkOrCORSError", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function isNetworkOrCORSError(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "isProxyBase", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function isProxyBase(base) {$/", "language": "JavaScript", "kind": "function", "signature": "(base)"}, {"_type": "tag", "name": "language", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    language,$/", "language": "JavaScript", "kind": "field", "scope": "searchEverything.params", "scopeKind": "class"}, {"_type": "tag", "name": "mapApiError", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function mapApiError(status, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(status, payload)"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^  const params = {$/", "language": "JavaScript", "kind": "class", "scope": "searchEverything", "scopeKind": "class"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    q: query,$/", "language": "JavaScript", "kind": "property", "scope": "searchEverything.params", "scopeKind": "class"}, {"_type": "tag", "name": "searchEverything", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^export async function searchEverything($/", "language": "JavaScript", "kind": "function", "signature": "( { q, sortBy = 'publishedAt', language = 'en', pageSize = 10, page = 1 } = {}, signal )"}, {"_type": "tag", "name": "sortBy", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    sortBy: sort,$/", "language": "JavaScript", "kind": "property", "scope": "searchEverything.params", "scopeKind": "class"}, {"_type": "tag", "name": "stripTrailingSlashes", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function stripTrailingSlashes(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "toUserFacingError", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^function toUserFacingError(err, url) {$/", "language": "JavaScript", "kind": "function", "signature": "(err, url)"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/open-api-integration-platform-225763-225772/frontend_app/src/services/newsApi.js", "pattern": "/^    e.details = { url };$/", "language": "JavaScript", "kind": "field", "scope": "e.details", "scopeKind": "class"}], "hash": "85d95213c5bbcdd9e060971ba7f7ca52", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/services/newsApi.js", "fields": [{"name": "country,", "scope": "getTopHeadlines.params", "scopeKind": "class", "description": "unavailable"}, {"name": "language,", "scope": "searchEverything.params", "scopeKind": "class", "description": "unavailable"}, {"name": "q: query,", "scope": "searchEverything.params", "scopeKind": "class", "description": "unavailable"}, {"name": "sortBy: sort,", "scope": "searchEverything.params", "scopeKind": "class", "description": "unavailable"}, {"name": "e.details = { url };", "scope": "e.details", "scopeKind": "class", "description": "unavailable"}]}